define("xg/eid-company-zy/1.0.4/c/js/base/sm-city-picker-extend",["xg/eid-company-zy/1.0.4/"],function(require,exports,module){return+function($){"use strict";for(var area=require("xg/eid-company-zy/1.0.4/"),china=[],p=area.getProvince(),i=0;i<p.length;i++){china[i]={name:p[i],sub:[]};for(var j=0;j<area.getCity(p[i]).length;j++){china[i].sub[j]={name:area.getCity(p[i])[j],sub:[]};for(var k=0;k<area.getArea(p[i],area.getCity(p[i])[j]).length;k++)china[i].sub[j].sub[k]={name:area.getArea(p[i],area.getCity(p[i])[j])[k]}}}$.smConfig.rawCitiesData=china;var valuesInit,format=function(data){for(var result=[],i=0;i<data.length;i++){var d=data[i];"请选择"!==d.name&&result.push(d.name)}return result.length?result:[""]},sub=function(data){return data.sub?format(data.sub):[""]},getCities=function(d){for(var i=0;i<raw.length;i++)if(raw[i].name===d)return sub(raw[i]);return[""]},getDistricts=function(p,c){for(var i=0;i<raw.length;i++)if(raw[i].name===p)for(var j=0;j<raw[i].sub.length;j++)if(raw[i].sub[j].name===c)return sub(raw[i].sub[j]);return[""]},getCityIndex=function(cities,c){for(var i=0;i<cities.length;i++)if(cities[i]==c)return i},getDistrictIndex=function(districts,d){for(var i=0;i<districts.length;i++)if(districts[i]==d)return i},scrollBar=function(bar,i){var value=90-36*i;$(".picker-items-col-wrapper").eq(bar).css({transform:"translate3d(0px, "+value+"px, 0px)"});var item=$(".picker-items-col-wrapper").eq(bar).find(".picker-item");item.removeClass("picker-selected"),item.eq(i).addClass("picker-selected"),item.eq(i).trigger("click")},raw=$.smConfig.rawCitiesData,provinces=raw.map(function(d){return d.name}),initCities=sub(raw[0]),initDistricts=[""],currentProvince=provinces[0],currentCity=initCities[0],count=(initDistricts[0],0),cols=[{textAlign:"center",values:provinces,cssClass:"col-province"},{textAlign:"center",values:initCities,cssClass:"col-city"}],district={textAlign:"center",values:initDistricts,cssClass:"col-district"},defaults={cssClass:"city-picker",rotateEffect:!1,district:!0,onChange:function(picker,values,displayValues){count++,1==count&&(valuesInit=values);var newCity,newProvince=picker.cols[0].value;if(newProvince===currentProvince)newCity=picker.cols[1].value,newCity!==currentCity&&(this.district&&picker.cols[2].replaceValues(getDistricts(newProvince,newCity)),currentCity=newCity,picker.updateValue());else{var newCities=getCities(newProvince);if(newCity=newCities[0],this.district)var newDistricts=getDistricts(newProvince,newCity);if(picker.cols[1].replaceValues(newCities),this.district&&picker.cols[2].replaceValues(newDistricts),currentProvince=newProvince,currentCity=newCity,picker.updateValue(),valuesInit){var cityIndex=getCityIndex(newCities,valuesInit[1]);if(this.district){var newDistricts=getDistricts(newProvince,valuesInit[1]);getDistrictIndex(newDistricts,valuesInit[2])}scrollBar(2,cityIndex,picker.params.input)}}},cols:cols};$.fn.cityPicker=function(params){return this.each(function(){if(this){var p=$.extend(defaults,params);p.district&&p.cols.push(district),p=$.extend(p,params);var val=$(this).val()||"北京市 北京市 东城区";val&&(p.value=val.split(" "),p.value[0]&&(p.cols[1].values=getCities(p.value[0])),p.value[1]&&defaults.district&&(p.cols[2].values=getDistricts(p.value[0],p.value[1]))),$(this).picker(p)}})}}(Zepto),Zepto});